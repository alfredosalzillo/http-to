(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{1088:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return app_Converter}});var a=r(230),n=r(7437),o=r(2265),s=r(8022),l=r.n(s),i=r(8567),u=r(8262),c=r(8826);let p=u.tk.theme({"&":{borderRadius:"12px",padding:"8px 4px",overflow:"auto",height:"300px"},".cm-editor":{}},{dark:!0}),d=[i.Xy,p,c.vk,u.tk.lineWrapping],useAutoUpdateRef=e=>{let t=(0,o.useRef)(e);return(0,o.useImperativeHandle)(t,()=>e,[e]),t},createController=e=>({get value(){let t=e();if(!t)return"";return t.state.doc.toJSON().join("\n")},updateValue(t){let r=e();r&&r.dispatch({changes:{from:0,to:r.state.doc.length,insert:t}})}}),m=(0,o.forwardRef)((e,t)=>{let{language:r,initialValue:a,editable:s,value:l,onChange:i,...c}=e,p=(0,o.useRef)(null),m=(0,o.useRef)(),v=useAutoUpdateRef(i);return(0,o.useEffect)(()=>{!m.current&&p.current&&(m.current=new u.tk({extensions:[d,r,u.tk.editable.of(null!=s&&s),u.tk.updateListener.of(e=>{if(e.docChanged){var t;null===(t=v.current)||void 0===t||t.call(v,e.state.doc.toJSON().join("\n"))}})],parent:p.current,doc:null!=a?a:""}))},[a,s,r,v]),(0,o.useEffect)(()=>{void 0!==l&&m.current&&m.current.dispatch({changes:{from:0,to:m.current.state.doc.length,insert:l}})},[l]),(0,o.useImperativeHandle)(t,()=>createController(()=>m.current)),(0,n.jsx)("div",{...c,ref:p})});var v=r(2015),f=r(684),languages_http=()=>f.il.define(v.d);let stringify=e=>JSON.stringify(e,null,4).replace(/}$/,"  }"),writeBody=e=>{let{contentType:t,value:r,text:a}=e;return"application/json"===t.trim().toLocaleLowerCase()?"body: JSON.stringify(".concat(stringify(r),")"):"body: `".concat(a,"`")},writeHeaders=e=>stringify(Object.fromEntries(e.map(e=>{let{name:t,value:r}=e;return[t,r.trimStart()]})));var converters_toJavascriptFetch=e=>{let{method:t,uri:r,headers:a,body:n}=e;return"\nfetch('".concat(r.raw,"', {\n  method: '").concat(t,"',\n  headers: ").concat(writeHeaders(a),",\n  ").concat(n.text&&"".concat(writeBody(n),","),"\n})\n").replace(/^\n*/,"").replace(/\n*$/,"")};let parseParams=e=>[...e.matchAll(RegExp("[?&]((?<name>[^=&]*)=(?<value>[^&]*))","ig"))].map(e=>e.groups),parseUrlEncoded=e=>[...e.matchAll(RegExp("[&]?((?<name>[^=&]*)=(?<value>[^&]*))","ig"))].map(e=>e.groups),parseUri=e=>({type:"uri",raw:e,params:parseParams(e),url:e.match(RegExp("^(?<url>[^?]*)")).groups.url}),parseRequest=e=>{let{method:t,uri:r,version:a="1.1"}=e.match(RegExp("^(?<method>[^ ]*) *(?<uri>[^ ]*) *HTTP\\/(?<version>.*)")).groups;return{method:t,version:a,uri:parseUri(r),type:"request"}},parseHeaders=e=>e.split("\n").map(e=>({...e.match(RegExp("^(?<name>[^:]*):(?<value>.*)$")).groups,type:"header"})),parseBody=(e,t)=>{let{value:r="application/x-www-form-urlencoded"}=t.find(e=>"content-type"===e.name.toLowerCase().trim())||{};return"application/json"===r.trim().toLowerCase()?{contentType:r,type:"body",value:JSON.parse(e),text:e}:{contentType:r,type:"body",value:parseUrlEncoded(e),text:e}},purify=e=>e.trimStart().trimEnd(),parse=e=>{let[t,...r]=purify(e).split("\n"),[a,...n]=r.join("\n").split("\n\n"),o=parseRequest(t),s=parseHeaders(a),l=parseBody(n.join("\n"),s);return{...o,headers:s,body:l}};var g=r(9121).eJ,h=r(348),y=r(1982),_=r.n(y),CopyButton_CopyButton=e=>{let{value:t,className:r,...a}=e,[s,l]=(0,o.useState)("idle");return(0,n.jsxs)("button",{type:"button",disabled:"idle"!==s,...a,className:(0,h.Z)(_().root,r),onClick:async()=>{l("waiting"),await navigator.clipboard.writeText(t),l("done"),setTimeout(()=>{l("idle")},1e3)},children:["done"===s&&"COPIED","idle"===s&&"COPY","waiting"===s&&"COPY"]})};let isDefaultValueFactory=e=>"function"==typeof e;var hooks_useLocalStorageState=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{convert:e=>JSON.parse(e)},[a,n]=(0,o.useState)(()=>{let a=localStorage.getItem(e);return a?r.convert(a):isDefaultValueFactory(t)?t():t});return(0,o.useEffect)(()=>{localStorage.setItem(e,JSON.stringify(a))},[e,a]),[a,n]},x=r(3270),C=r.n(x);function _templateObject(){let e=(0,a._)(['\n  POST https://jsonplaceholder.typicode.com/posts HTTP/1.1\n  Authorization: Bearer YWRtaW46cHdkLTAuNTE2MjAzOTU4MTk1OTk3OC1lbmQ=\n  Content-Type: application/json\n  \n  {\n    "id": 1,\n    "title": "Lorem Ipsum",\n    "body": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris lobortis, neque et placerat elementum, nisl ipsum gravida sapien, quis auctor quam lorem sit amet dolor."\n  }\n']);return _templateObject=function(){return e},e}let j=l()(_templateObject()),convert=e=>converters_toJavascriptFetch(parse(e)),useConvertedValue=e=>{let[t,r]=hooks_useLocalStorageState("http-to__last_converted_value",()=>({raw:e,value:convert(e),error:null})),a=(0,o.useCallback)(e=>{r(t=>{try{return{raw:e,value:convert(e),error:null}}catch(e){return{...t,error:e}}})},[]);return[t,a]};var app_Converter=()=>{let[{raw:e,value:t,error:r},a]=useConvertedValue(j);return(0,n.jsxs)("div",{className:C().root,children:[(0,n.jsx)(m,{editable:!0,initialValue:e,onChange:a,language:languages_http(),className:C().code}),(0,n.jsxs)("div",{className:C().actions,children:[(0,n.jsx)("select",{children:(0,n.jsx)("option",{children:"Javascript"})}),r&&(0,n.jsx)("div",{className:C().error,children:r.message})]}),(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)(m,{value:t,language:g(),className:C().code}),(0,n.jsx)(CopyButton_CopyButton,{value:t,className:C().copy})]})]})}},3270:function(e){e.exports={root:"Convert_root__hL6bK",actions:"Convert_actions__ieDDX",error:"Convert_error__xTXir",copy:"Convert_copy__2EOh5"}},1982:function(e){e.exports={root:"CopyButton_root__RNvKt"}}}]);